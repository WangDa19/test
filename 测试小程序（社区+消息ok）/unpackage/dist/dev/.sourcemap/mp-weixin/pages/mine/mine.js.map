{"version":3,"sources":["uni-app:///main.js","webpack:///H:/测试小程序/pages/mine/mine.vue?7249","webpack:///H:/测试小程序/pages/mine/mine.vue?cbd9","webpack:///H:/测试小程序/pages/mine/mine.vue?e57f","webpack:///H:/测试小程序/pages/mine/mine.vue?b6f4","uni-app:///pages/mine/mine.vue","webpack:///H:/测试小程序/pages/mine/mine.vue?ff1d","webpack:///H:/测试小程序/pages/mine/mine.vue?435d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","userId","isLogin","userInfo","_id","nickname","avatar","signature","followCount","fansCount","likeCount","serviceMenu","name","icon","color","path","taskMenu","count","otherMenu","schools","selectedSchool","isVerifying","verificationStatus","schoolLocations","latitude","longitude","radius","pageLoaded","checkingLoginStatus","onLoad","uni","onShow","console","onUnload","onReady","created","beforeDestroy","methods","handleAvatar","handleEditProfile","url","goToLogin","events","loginSuccess","handleLogout","checkLoginStatus","title","educationInfo","handleLoginSuccess","clearLoginInfo","navigateTo","bindSchoolChange","verifyLocation","type","isHighAccuracy","success","resolve","fail","reject","location","schoolLocation","distance","verified","schoolName","verifyTime","uniCloud","res","getCurrentLocation","calculateTencentMapDistance","key","from","to","mode","calculateDistance","Math","toRad","handleUserInfoUpdate","showMessage","setTimeout","message","isPointInPolygon","lng","getNearestBoundaryPoint","minDistance","nearestPoint","point","initUserInfo","token","localUserInfo","forceUpdate","serverUserInfo","formatDate","clearLocationVerify","content","confirmColor","result","navigateToFollows","navigateToFans","navigateToLikes","refreshUserData","showLoading","mask","userRes","forceSyncUserInfo","page","pageSize","followRes","followingCount","initPage","resetUserInfo","computed","getUserAvatar","getMessageType","getMessageContent","getFollowCount"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCuLlnB;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC,cACA;QAAAC;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,EACA;MACAC,WACA;QAAAJ;QAAAC;QAAAC;QAAAC;QAAAE;MAAA,GACA;QAAAL;QAAAC;QAAAC;QAAAC;QAAAE;MAAA,GACA;QAAAL;QAAAC;QAAAC;QAAAC;MAAA,EACA;MACAG,YACA;QAAAN;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,EACA;MACAI,UACA,YACA,UACA,QACA,QACA,UACA,UACA,UACA,UACA,UACA,WACA,UACA,UACA,UACA,UACA,UACA,SACA;MACAC;MACAC;MACAC;MACAC;QACA;UACAC;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;QACA;UACAF;UACAC;UACAC;QACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACAC;IACA;IACA;EACA;EACAC;IACA;IACA;MACAC;;MAEA;MACA;IACA;IACA;;IAEA;IACA;MACA;IACA;EACA;EACAC;IACAH;IACA;EACA;EACAI;IACA;IACA;EACA;EACAC;IACA;IACAL;IACA;IACAA;EACA;EACAM;IACA;IACAN;IACAA;EACA;EACAO;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;QACAT;UACAU;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACAX;QACAU;QACAE;UACAC;YACA;UACA;QACA;MACA;IACA;IACAC;MACAZ;MACA;MACA;MACA;;MAEA;MACA;IACA;IACAa;MAAA;MACAb;MACA;MAEA;QACAF;UACAgB;QACA;MACA;MAEA;QACA;QACA;QACA;QAEA;UACA;UACA;UACA;UACA;YACA1C;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAqC;UACA;UAEAf;QACA;UACA;UACA;QACA;MACA;QACAA;MACA;QACA;QACA;UACAF;QACA;MACA;IACA;IACAkB;MACAhB;MACA;MACA;;MAEA;MACA;;MAEA;MACA;IACA;IACAiB;MACA;QACAnB;QACAA;QACAA;QACA;MACA;QACAE;MACA;IACA;IACAkB;MACApB;QAAAU;MAAA;IACA;IACAW;MACAnB;MACA;MACA;MACAF;QACAgB;QACAjC;MACA;IACA;IACAuC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACAtB;kBAAAgB;kBAAAjC;gBAAA;gBAAA;cAAA;gBAIA;gBAAA;gBAAA;gBAAA,OAIA;kBACAiB;oBACAuB;oBACAC;oBACAC;sBACAvB;sBACAwB;oBACA;oBACAC;sBACAzB;sBACA0B;oBACA;kBACA;gBACA;cAAA;gBAbAC;gBAeAC;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA,MACA;cAAA;gBAGAC,oCACAF,mBACAA,oBACAC,yBACAA,yBACA;gBAEAE;gBAAA,KAEAA;kBAAA;kBAAA;gBAAA;gBACAf;kBACAe;kBACAC;kBACAC;gBACA;gBAAA;gBAAA,OAEAC;kBACArD;kBACAZ;oBACAC;oBACA8C;kBACA;gBACA;cAAA;gBANAmB;gBAAA,MAQAA;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBAEA/D;gBACAA;gBACA2B;gBAEAA;gBAEAA;kBACAgB;kBACAjC;gBACA;gBAAA;gBAAA;cAAA;gBAAA,MAEA;cAAA;gBAAA;gBAAA;cAAA;gBAAA,MAGA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAmB;gBACAF;kBACAgB;kBACAjC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAsD;MACA;QACArC;UACAuB;UACAC;UACAC;YACAvB;YACAwB;UACA;UACAC;YACAzB;YACA0B;UACA;QACA;MACA;IACA;IACAU;MAAA;MACA;QACA;QACAtC;UACAU;UACAxC;YACAqE;YACAC;YACAC;YACAC;UACA;;UACAjB;YAAA;YACA;cACAC;YACA;cACAA;YACA;UACA;UACAC;YACA;YACAD;UACA;QACA;MACA;IACA;IACAiB;MACA;MACA;MACA;MACA,kDACAC,0DACAA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA9C;IACA;IACA+C;MAAA;MAAA;MACA;MACA;QACAC;UACA;QACA;QACA;MACA;MAEA;QACA;UACA;YACAvB;YACAwB;UACA;UACA;QACA;UACA;UACAjD;YACAgB;YACAjC;UACA;QACA;MACA;IACA;IACA;IACAmE;MACA;MACA;QACA;QACA;QACA;QACA;QAEA,yCACAC;QAEA;MACA;MAEA;IACA;IACA;IACAC;MACA;MACA;MAEA;QACA;QACA;QAEA;UACAC;UACAC;QACA;MACA;MAEA;QACAC;QACAxB;MACA;IACA;IACA;IACAyB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACArF;gBACAsF;gBAAA,MAEAtF;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBACAuF;gBACA;kBACA;gBACA;;gBAEA;gBAAA;gBAAA;gBAAA,OAEAvB;kBACArD;kBACAZ;oBACAC;oBACAwF;kBACA;gBACA;cAAA;gBANAvB;gBAQA;kBACAwB,kCACA;kBACA;kBACA5D;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAE;cAAA;gBAAA;gBAAA;cAAA;gBAGA;gBACA;kBACA1B;kBACAD;kBACAE;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAoF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACA9D;oBACAgB;oBACA+C;oBACAC;oBACAvC;sBAAA;wBAAA;wBAAA;0BAAA;4BAAA;8BAAA;gCAAA,KACAW;kCAAA;kCAAA;gCAAA;gCACApC;kCAAAgB;gCAAA;gCAEA7C;gCAAA,IACAA;kCAAA;kCAAA;gCAAA;gCAAA,MACA;8BAAA;gCAAA;gCAAA,OAIAgE;kCACArD;kCACAZ;oCACAC;oCACA8C;sCACAe;sCACAC;sCACAC;oCACA;kCACA;gCACA;8BAAA;gCAVA+B;gCAAA,MAYAA;kCAAA;kCAAA;gCAAA;gCACA;gCACA;gCACA;kCACAjC;kCACAC;kCACAC;gCACA;;gCAEA;gCACA;;gCAEA;gCACA7D;gCACAA;gCACA2B;;gCAEA;gCACAA;gCAEAA;kCACAgB;kCACAjC;gCACA;gCAAA;gCAAA;8BAAA;gCAAA,MAEA;8BAAA;8BAAA;gCAAA;4BAAA;0BAAA;wBAAA;sBAAA,CAGA;sBAAA;wBAAA;sBAAA;sBAAA;oBAAA;kBACA;gBACA;kBACAmB;kBACAF;oBACAgB;oBACAjC;kBACA;gBACA;kBACAiB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAkE;MACA;QACA;QACA;MACA;MAEAhE;;MAEA;MACA;QACAF;UACAU;QACA;MACA;QACAR;QACAF;UACAgB;UACAjC;QACA;MACA;IACA;IAEA;IACAoF;MACA;QACA;QACA;MACA;MAEAjE;;MAEA;MACA;QACAF;UACAU;QACA;MACA;QACAR;QACAF;UACAgB;UACAjC;QACA;MACA;IACA;IAEA;IACAqF;MACA;QACA;QACA;MACA;MACApE;QACAU;MACA;IACA;IACA;IACA2D;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAAC;gBAAA;gBAEAnG;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAIA;kBACA6B;oBACAgB;oBACAuD;kBACA;gBACA;;gBAEA;gBAAA;gBAAA,OACApC;kBACArD;kBACAZ;oBACAC;oBACAwF;kBACA;gBACA;cAAA;gBANAa;gBAQA;kBACAnG,gCAEA;kBACAA;kBACAA;kBACAA;kBACAA;;kBAEA;kBACA;kBACA2B;;kBAEA;kBACA;kBAEAE;;kBAEA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;cAAA;gBAAA;gBAEA;kBACAF;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAyE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAtG;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA+B;gBAAA;gBAEAF;kBACAgB;kBACAuD;gBACA;;gBAEA;gBAAA;gBAAA,OACApC;kBACArD;kBACAZ;oBACAC;oBACAuG;oBACAC;kBACA;gBACA;cAAA;gBAPAC;gBAAA;gBAAA,OAUAzC;kBACArD;kBACAZ;oBACAC;oBACAwF;kBACA;gBACA;cAAA;gBANAvB;gBAQA;kBACA;kBACA/D,4BAEA;kBACA;oBACAK;oBACAL;oBACAA;kBACA;;kBAEA;kBACAA;kBACAA;;kBAEA;kBACA;kBACA;kBACA2B;kBAEAE;oBACAxB;oBACAmG;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA3E;cAAA;gBAAA;gBAEAF;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACA8E;MAAA;MACA;;MAEA;MACA9E;QACA;MACA;IACA;IACA;IACA+E;MACA;QACAzG;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAoG;IACAC;MACA;MACA;QACA;MACA;MAEA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAlF;QACAxB;QACAmG;MACA;;MAEA;MACA;MACA;QACA1F;MACA;QACAA;MACA;;MAEA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpgCA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAp4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/mine/mine.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/mine/mine.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mine.vue?vue&type=template&id=dcbcfe34&\"\nvar renderjs\nimport script from \"./mine.vue?vue&type=script&lang=js&\"\nexport * from \"./mine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mine.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine.vue\"\nexport default component.exports","export * from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=template&id=dcbcfe34&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = !(\n    !_vm.userInfo.educationInfo || !_vm.userInfo.educationInfo.verified\n  )\n    ? _vm.formatDate(_vm.userInfo.educationInfo.verifyTime)\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isLogin ? _vm.editUserInfo() : _vm.handleLogin()\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"profile-container\">\n\t\t<!-- 顶部用户信息 -->\n\t\t<view class=\"user-card\">\n\t\t\t<view class=\"user-info\">\n\t\t\t\t<image class=\"avatar\" :src=\"getUserAvatar\" @tap=\"isLogin ? editUserInfo() : handleLogin()\"></image>\n\t\t\t\t<view class=\"user-details\">\n\t\t\t\t\t<view class=\"nickname-row\">\n\t\t\t\t\t\t<text class=\"nickname\">{{userInfo.nickname || '点击登录'}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"signature\" v-if=\"isLogin\">{{userInfo.signature || '编辑个人资料'}}</text>\n\t\t\t\t\t<text class=\"signature\" v-else>登录后查看个人信息</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"edit-profile-btn\" v-if=\"isLogin\" @tap=\"handleEditProfile\">\n\t\t\t\t<text>编辑资料</text>\n\t\t\t</view>\n\t\t\t<view class=\"logout-btn\" v-if=\"isLogin\" @tap=\"handleLogout\">\n\t\t\t\t<text>退出登录</text>\n\t\t\t</view>\n\t\t\t<view class=\"login-now-btn\" v-if=\"!isLogin\" @tap=\"goToLogin\">\n\t\t\t\t<text>立即登录</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 添加大型登录提示横幅 -->\n\t\t<view class=\"login-banner\" v-if=\"!isLogin\" @tap=\"goToLogin\">\n\t\t\t<view class=\"login-banner-inner\">\n\t\t\t\t<image class=\"login-icon\" src=\"/static/images/icons/user.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"login-banner-text\">登录后查看您的个人信息</text>\n\t\t\t</view>\n\t\t\t<button class=\"login-banner-btn\">立即登录</button>\n\t\t</view>\n\t\t\n\t\t<!-- 用户统计数据 -->\n\t\t<view class=\"user-stats\">\n\t\t\t<view class=\"stat-item\" @tap=\"navigateToFollows\">\n\t\t\t\t<text class=\"stat-value\">{{getFollowCount}}</text>\n\t\t\t\t<text class=\"stat-label\">关注</text>\n\t\t\t</view>\n\t\t\t<view class=\"stat-item\" @tap=\"navigateToFans\">\n\t\t\t\t<text class=\"stat-value\">{{userInfo.fansCount || 0}}</text>\n\t\t\t\t<text class=\"stat-label\">粉丝</text>\n\t\t\t</view>\n\t\t\t<view class=\"stat-item\">\n\t\t\t\t<text class=\"stat-value\">{{userInfo.likeCount || 0}}</text>\n\t\t\t\t<text class=\"stat-label\">获赞</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 我的服务 -->\n\t\t<view class=\"section-card\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<view class=\"section-title-marker\"></view>\n\t\t\t\t<text class=\"section-title\">我的服务</text>\n\t\t\t</view>\n\t\t\t<view class=\"service-grid\">\n\t\t\t\t<view class=\"service-item\">\n\t\t\t\t\t<view class=\"service-icon\" style=\"background-color: #FF9500;\">\n\t\t\t\t\t\t<image src=\"/static/images/icons/skill.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"service-name\">我的技能</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"service-item\">\n\t\t\t\t\t<view class=\"service-icon\" style=\"background-color: #FF3B30;\">\n\t\t\t\t\t\t<image src=\"/static/images/icons/location.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"service-name\">我的闲置</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"service-item\">\n\t\t\t\t\t<view class=\"service-icon\" style=\"background-color: #FF2D55;\">\n\t\t\t\t\t\t<image src=\"/static/images/icons/collection.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"service-name\">我的收藏</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"service-item\">\n\t\t\t\t\t<view class=\"service-icon\" style=\"background-color: #007AFF;\">\n\t\t\t\t\t\t<image src=\"/static/images/icons/history.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"service-name\">历史记录</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 任务记录 -->\n\t\t<view class=\"section-card\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<view class=\"section-title-marker\"></view>\n\t\t\t\t<text class=\"section-title\">任务记录</text>\n\t\t\t</view>\n\t\t\t<view class=\"menu-list\">\n\t\t\t\t<view class=\"menu-item\">\n\t\t\t\t\t<view class=\"menu-item-left\">\n\t\t\t\t\t\t<view class=\"menu-icon\" style=\"background-color: #FFF5F5;\">\n\t\t\t\t\t\t\t<image src=\"/static/images/icons/publish.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-label\">发布的任务</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"count-badge\">3</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"menu-item\">\n\t\t\t\t\t<view class=\"menu-item-left\">\n\t\t\t\t\t\t<view class=\"menu-icon\" style=\"background-color: #F0F7FF;\">\n\t\t\t\t\t\t\t<image src=\"/static/images/icons/accept.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-label\">接受的任务</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"count-badge\">2</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"menu-item\">\n\t\t\t\t\t<view class=\"menu-item-left\">\n\t\t\t\t\t\t<view class=\"menu-icon\" style=\"background-color: #F5FFF5;\">\n\t\t\t\t\t\t\t<image src=\"/static/images/icons/complete.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-label\">完成的任务</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 设置与反馈 -->\n\t\t<view class=\"section-card\">\n\t\t\t<view class=\"menu-list\">\n\t\t\t\t<view class=\"menu-item\">\n\t\t\t\t\t<view class=\"menu-item-left\">\n\t\t\t\t\t\t<view class=\"menu-icon\" style=\"background-color: #F0F0FF;\">\n\t\t\t\t\t\t\t<image src=\"/static/images/icons/feedback.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-label\">意见反馈</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<image class=\"arrow-icon\" src=\"/static/images/icons/arrow-right.png\" mode=\"aspectFit\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"menu-item\">\n\t\t\t\t\t<view class=\"menu-item-left\">\n\t\t\t\t\t\t<view class=\"menu-icon\" style=\"background-color: #F8F8F8;\">\n\t\t\t\t\t\t\t<image src=\"/static/images/icons/settings.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-label\">设置</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<image class=\"arrow-icon\" src=\"/static/images/icons/arrow-right.png\" mode=\"aspectFit\"></image>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 院校认证 -->\n\t\t<view class=\"section school-section\">\n\t\t\t<view class=\"section-title\">\n\t\t\t\t<view class=\"title-bar\"></view>\n\t\t\t\t<text>院校认证</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 未认证状态 -->\n\t\t\t<view v-if=\"!userInfo.educationInfo || !userInfo.educationInfo.verified\" class=\"school-select\">\n\t\t\t\t<picker mode=\"selector\" :range=\"schools\" @change=\"bindSchoolChange\">\n\t\t\t\t\t<view class=\"school-picker\">\n\t\t\t\t\t\t<text>请选择院校</text>\n\t\t\t\t\t\t<text class=\"school-name\">{{selectedSchool || '请选择'}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</picker>\n\t\t\t\t<button class=\"verify-btn\" @click=\"verifyLocation\">验证位置</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 已认证状态 -->\n\t\t\t<view v-else class=\"school-verified\">\n\t\t\t\t<view class=\"verified-content\">\n\t\t\t\t\t<view class=\"verified-icon\">\n\t\t\t\t\t\t<uni-icons type=\"checkmarkempty\" size=\"24\" color=\"#10C55B\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"verified-info\">\n\t\t\t\t\t\t<text class=\"verified-school\">{{userInfo.educationInfo.schoolName}}</text>\n\t\t\t\t\t\t<text class=\"verified-time\">认证成功 · {{formatDate(userInfo.educationInfo.verifyTime)}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<button class=\"exit-verify-btn\" @click=\"clearLocationVerify\">退出位置验证</button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 底部占位区，确保内容完全显示 -->\n\t\t<view class=\"bottom-spacer\"></view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuserId: '',\n\t\t\tisLogin: false,\n\t\t\tuserInfo: {\n\t\t\t\t_id: '',\n\t\t\t\tnickname: '',\n\t\t\t\tavatar: '',\n\t\t\t\tsignature: '',\n\t\t\t\tfollowCount: 0,\n\t\t\t\tfansCount: 0,\n\t\t\t\tlikeCount: 0\n\t\t\t},\n\t\t\tserviceMenu: [\n\t\t\t\t{ name: '我的技能', icon: 'star', color: '#ff9900', path: '/pages/mine/skills' },\n\t\t\t\t{ name: '我的闲置', icon: 'shop', color: '#ff5757', path: '/pages/mine/idle' },\n\t\t\t\t{ name: '我的收藏', icon: 'heart', color: '#ff69b4', path: '/pages/mine/collections' },\n\t\t\t\t{ name: '历史记录', icon: 'time', color: '#1890ff', path: '/pages/mine/history' }\n\t\t\t],\n\t\t\ttaskMenu: [\n\t\t\t\t{ name: '发布的任务', icon: 'upload', color: '#ff5757', path: '/pages/mine/tasks/published', count: 3 },\n\t\t\t\t{ name: '接受的任务', icon: 'download', color: '#1890ff', path: '/pages/mine/tasks/accepted', count: 2 },\n\t\t\t\t{ name: '完成的任务', icon: 'checkbox', color: '#52c41a', path: '/pages/mine/tasks/completed' }\n\t\t\t],\n\t\t\totherMenu: [\n\t\t\t\t{ name: '意见反馈', icon: 'help', color: '#722ed1', path: '/pages/mine/feedback' },\n\t\t\t\t{ name: '设置', icon: 'gear', color: '#666666', path: '/pages/mine/settings' }\n\t\t\t],\n\t\t\tschools: [\n\t\t\t\t'沈阳航空航天大学',\n\t\t\t\t'大连理工大学',\n\t\t\t\t'东北大学',\n\t\t\t\t'辽宁大学',\n\t\t\t\t'大连海事大学',\n\t\t\t\t'东北财经大学',\n\t\t\t\t'沈阳药科大学',\n\t\t\t\t'沈阳建筑大学',\n\t\t\t\t'沈阳农业大学',\n\t\t\t\t'辽宁中医药大学',\n\t\t\t\t'大连工业大学',\n\t\t\t\t'沈阳工业大学',\n\t\t\t\t'辽宁师范大学',\n\t\t\t\t'沈阳化工大学',\n\t\t\t\t'大连海洋大学',\n\t\t\t\t'中国医科大学'\n\t\t\t],\n\t\t\tselectedSchool: '沈阳航空航天大学',\n\t\t\tisVerifying: false,\n\t\t\tverificationStatus: null,\n\t\t\tschoolLocations: {\n\t\t\t\t'沈阳航空航天大学': {\n\t\t\t\t\tlatitude: 41.926806,\n\t\t\t\t\tlongitude: 123.404631,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'大连理工大学': {\n\t\t\t\t\tlatitude: 38.879989,\n\t\t\t\t\tlongitude: 121.526847,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'东北大学': {\n\t\t\t\t\tlatitude: 41.766544,\n\t\t\t\t\tlongitude: 123.427179,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'辽宁大学': {\n\t\t\t\t\tlatitude: 41.938839,\n\t\t\t\t\tlongitude: 123.428849,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'大连海事大学': {\n\t\t\t\t\tlatitude: 38.865799,\n\t\t\t\t\tlongitude: 121.526897,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'东北财经大学': {\n\t\t\t\t\tlatitude: 38.866969,\n\t\t\t\t\tlongitude: 121.527075,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'沈阳药科大学': {\n\t\t\t\t\tlatitude: 41.836879,\n\t\t\t\t\tlongitude: 123.400139,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'沈阳建筑大学': {\n\t\t\t\t\tlatitude: 41.781649,\n\t\t\t\t\tlongitude: 123.420929,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'沈阳农业大学': {\n\t\t\t\t\tlatitude: 41.827099,\n\t\t\t\t\tlongitude: 123.566589,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'辽宁中医药大学': {\n\t\t\t\t\tlatitude: 41.772739,\n\t\t\t\t\tlongitude: 123.420729,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'大连工业大学': {\n\t\t\t\t\tlatitude: 38.878199,\n\t\t\t\t\tlongitude: 121.525697,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'沈阳工业大学': {\n\t\t\t\t\tlatitude: 41.943839,\n\t\t\t\t\tlongitude: 123.452849,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'辽宁师范大学': {\n\t\t\t\t\tlatitude: 38.869969,\n\t\t\t\t\tlongitude: 121.550075,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'沈阳化工大学': {\n\t\t\t\t\tlatitude: 41.677839,\n\t\t\t\t\tlongitude: 123.428849,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'大连海洋大学': {\n\t\t\t\t\tlatitude: 38.865799,\n\t\t\t\t\tlongitude: 121.526897,\n\t\t\t\t\tradius: 800\n\t\t\t\t},\n\t\t\t\t'中国医科大学': {\n\t\t\t\t\tlatitude: 41.801839,\n\t\t\t\t\tlongitude: 123.417849,\n\t\t\t\t\tradius: 800\n\t\t\t\t}\n\t\t\t},\n\t\t\tpageLoaded: false,\n\t\t\tcheckingLoginStatus: true,  // 添加一个状态表示正在检查登录状态\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.pageLoaded = true;\n\t\t// 监听用户信息更新事件\n\t\tuni.$on('userInfoUpdated', this.handleUserInfoUpdate);\n\t\tthis.checkLoginStatus(true);\n\t\tthis.initPage();\n\t},\n\tonShow() {\n\t\t// 每次显示页面时都强制刷新用户信息\n\t\tif (this.pageLoaded) {\n\t\t\tconsole.log('mine页面显示，刷新用户信息');\n\t\t\t\n\t\t\t// 从用户ID重新获取最新数据而不是依赖本地存储\n\t\t\tthis.forceSyncUserInfo();\n\t\t}\n\t\tthis.checkLoginStatus();\n\t\t\n\t\t// 如果已登录，刷新用户数据\n\t\tif (this.isLogin) {\n\t\t\tthis.refreshUserData(true);\n\t\t}\n\t},\n\tonUnload() {\n\t\tuni.$off('userInfoUpdated', this.handleUserInfoUpdate);\n\t\tthis.pageLoaded = false;\n\t},\n\tonReady() {\n\t\t// 页面渲染完成后执行\n\t\tthis.pageLoaded = true;\n\t},\n\tcreated() {\n\t\t// 监听登录事件\n\t\tuni.$on('loginSuccess', this.handleLoginSuccess);\n\t\t// 监听退出登录事件\n\t\tuni.$on('logoutSuccess', this.handleLogout);\n\t},\n\tbeforeDestroy() {\n\t\t// 记得在组件销毁时移除事件监听\n\t\tuni.$off('loginSuccess', this.handleLoginSuccess);\n\t\tuni.$off('logoutSuccess', this.handleLogout);\n\t},\n\tmethods: {\n\t\thandleAvatar() {\n\t\t\tif (!this.isLogin) {\n\t\t\t\tthis.goToLogin();\n\t\t\t}\n\t\t},\n\t\thandleEditProfile() {\n\t\t\tif (this.isLogin) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/mine/profile'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.goToLogin();\n\t\t\t}\n\t\t},\n\t\tgoToLogin() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/login/index',\n\t\t\t\tevents: {\n\t\t\t\t\tloginSuccess: () => {\n\t\t\t\t\t\tthis.checkLoginStatus(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\thandleLogout() {\n\t\t\tconsole.log('退出登录，清除用户数据');\n\t\t\tthis.isLogin = false;\n\t\t\tthis.userInfo = {};\n\t\t\tthis.clearLoginInfo();\n\t\t\t\n\t\t\t// 强制刷新整个页面\n\t\t\tthis.$forceUpdate();\n\t\t},\n\t\tcheckLoginStatus(showLoading = false) {\n\t\t\tconsole.log('检查登录状态');\n\t\t\tthis.checkingLoginStatus = true;\n\t\t\t\n\t\t\tif (showLoading) {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst userId = uni.getStorageSync('userId');\n\t\t\t\tthis.userId = userId;\n\t\t\t\tthis.isLogin = !!userId;\n\t\t\t\t\n\t\t\t\tif (this.isLogin) {\n\t\t\t\t\t// 获取本地存储的用户信息\n\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo') || {};\n\t\t\t\t\t// 确保数据一致性\n\t\t\t\t\tthis.userInfo = {\n\t\t\t\t\t\t_id: userId,\n\t\t\t\t\t\tnickname: userInfo.nickname || '',\n\t\t\t\t\t\tavatar: userInfo.avatar || '',\n\t\t\t\t\t\tsignature: userInfo.signature || '',\n\t\t\t\t\t\tfollowCount: userInfo.followCount || 0,\n\t\t\t\t\t\tfansCount: userInfo.fansCount || 0,\n\t\t\t\t\t\tlikeCount: userInfo.likeCount || 0,\n\t\t\t\t\t\teducationInfo: userInfo.educationInfo || {}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('当前用户信息:', JSON.stringify(this.userInfo));\n\t\t\t\t} else {\n\t\t\t\t\t// 未登录时重置用户信息\n\t\t\t\t\tthis.resetUserInfo();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('检查登录状态出错:', error);\n\t\t\t} finally {\n\t\t\t\tthis.checkingLoginStatus = false;\n\t\t\t\tif (showLoading) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thandleLoginSuccess(userInfo) {\n\t\t\tconsole.log('登录成功，更新用户信息:', userInfo);\n\t\t\tthis.isLogin = true;\n\t\t\tthis.userInfo = userInfo || {};\n\t\t\t\n\t\t\t// 强制刷新整个页面\n\t\t\tthis.$forceUpdate();\n\t\t\t\n\t\t\t// 获取最新用户数据\n\t\t\tthis.refreshUserData(true);\n\t\t},\n\t\tclearLoginInfo() {\n\t\t\ttry {\n\t\t\t\tuni.removeStorageSync('userId');\n\t\t\t\tuni.removeStorageSync('userInfo');\n\t\t\t\tuni.removeStorageSync('token');\n\t\t\t\t// 可能还需要清除其他与登录相关的存储项\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('清除登录信息出错:', error);\n\t\t\t}\n\t\t},\n\t\tnavigateTo(url) {\n\t\t\tuni.navigateTo({ url })\n\t\t},\n\t\tbindSchoolChange(e) {\n\t\t\tconsole.log('选择的院校索引:', e.detail.value);\n\t\t\tconst index = e.detail.value;\n\t\t\tthis.selectedSchool = this.schools[index];\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '已选择: ' + this.selectedSchool,\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t},\n\t\tasync verifyLocation() {\n\t\t\tif (!this.isLogin) {\n\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isVerifying = true;\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// 直接获取位置信息，系统会自动弹出权限请求\n\t\t\t\tconst location = await new Promise((resolve, reject) => {\n\t\t\t\t\tuni.getLocation({\n\t\t\t\t\t\ttype: 'gcj02',\n\t\t\t\t\t\tisHighAccuracy: true,\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tconsole.log('定位成功:', res);\n\t\t\t\t\t\t\tresolve(res);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('定位失败:', err);\n\t\t\t\t\t\t\treject(new Error('获取位置信息失败，请允许位置权限'));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tconst schoolLocation = this.schoolLocations[this.selectedSchool];\n\t\t\t\tif (!location || !schoolLocation) {\n\t\t\t\t\tthrow new Error('获取位置信息失败');\n\t\t\t\t}\n\n\t\t\t\tconst distance = this.calculateDistance(\n\t\t\t\t\tlocation.latitude,\n\t\t\t\t\tlocation.longitude,\n\t\t\t\t\tschoolLocation.latitude,\n\t\t\t\t\tschoolLocation.longitude\n\t\t\t\t);\n\n\t\t\t\tconst verified = distance <= schoolLocation.radius;\n\t\t\t\t\n\t\t\t\tif (verified) {\n\t\t\t\t\tconst educationInfo = {\n\t\t\t\t\t\tverified: true,\n\t\t\t\t\t\tschoolName: this.selectedSchool,\n\t\t\t\t\t\tverifyTime: Date.now()\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'updateProfile',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tuserId: uni.getStorageSync('userId'),\n\t\t\t\t\t\t\teducationInfo\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\t\tif (!this.userInfo) this.userInfo = {};\n\t\t\t\t\t\tthis.userInfo.educationInfo = educationInfo;\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo') || {};\n\t\t\t\t\t\tuserInfo.educationInfo = educationInfo;\n\t\t\t\t\t\tuni.setStorageSync('userInfo', userInfo);\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.$emit('userInfoUpdated', userInfo);\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '验证成功',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(res.result.msg || '数据保存失败');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('不在学校范围内');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('验证失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: error.message || '验证失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tthis.isVerifying = false;\n\t\t\t}\n\t\t},\n\t\tgetCurrentLocation() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.getLocation({\n\t\t\t\t\ttype: 'gcj02',\n\t\t\t\t\tisHighAccuracy: true,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('定位成功:', res);\n\t\t\t\t\t\tresolve(res);\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('定位失败:', err);\n\t\t\t\t\t\treject(new Error('获取位置信息失败'));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tcalculateTencentMapDistance(lat1, lng1, lat2, lng2) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst key = 'GJHBZ-J56CQ-IBQ5D-2YUOS-TF23V-MNFA3'; // 替换为您的腾讯地图key\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `https://apis.map.qq.com/ws/distance/v1/matrix`,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\tfrom: `${lat1},${lng1}`,\n\t\t\t\t\t\tto: `${lat2},${lng2}`,\n\t\t\t\t\t\tmode: 'walking' // 步行距离\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.status === 0 && res.data.result.rows?.[0]?.elements?.[0]?.distance) {\n\t\t\t\t\t\t\tresolve(res.data.result.rows[0].elements[0].distance);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(this.calculateDistance(lat1, lng1, lat2, lng2));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t// 如果腾讯地图API调用失败，使用直线距离计算\n\t\t\t\t\t\tresolve(this.calculateDistance(lat1, lng1, lat2, lng2));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tcalculateDistance(lat1, lon1, lat2, lon2) {\n\t\t\tconst R = 6371000; // 地球半径（米）\n\t\t\tconst dLat = this.toRad(lat2 - lat1);\n\t\t\tconst dLon = this.toRad(lon2 - lon1);\n\t\t\tconst a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n\t\t\t\t\t  Math.cos(this.toRad(lat1)) * Math.cos(this.toRad(lat2)) *\n\t\t\t\t\t  Math.sin(dLon/2) * Math.sin(dLon/2);\n\t\t\tconst c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\t\t\treturn R * c;\n\t\t},\n\t\ttoRad(deg) {\n\t\t\treturn deg * Math.PI / 180;\n\t\t},\n\t\thandleUserInfoUpdate(userInfo) {\n\t\t\tthis.userInfo = userInfo;\n\t\t\tthis.isLogin = true;\n\t\t\t// 更新本地存储\n\t\t\tuni.setStorageSync('userInfo', userInfo);\n\t\t},\n\t\tshowMessage(message, type = 'info') {\n\t\t\t// 确保页面已加载\n\t\t\tif (!this.pageLoaded) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.showMessage(message, type);\n\t\t\t\t}, 100);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tif (this.$refs.messagePopup) {\n\t\t\t\t\tthis.verificationStatus = {\n\t\t\t\t\t\tsuccess: type === 'success',\n\t\t\t\t\t\tmessage: message\n\t\t\t\t\t};\n\t\t\t\t\tthis.$refs.messagePopup.open();\n\t\t\t\t} else {\n\t\t\t\t\t// 降级处理：如果popup组件未加载，使用uni.showToast\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: message,\n\t\t\t\t\t\ticon: type === 'success' ? 'success' : 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 判断点是否在多边形内（射线法）\n\t\tisPointInPolygon(lat, lng, bounds) {\n\t\t\tlet inside = false;\n\t\t\tfor (let i = 0, j = bounds.length - 1; i < bounds.length; j = i++) {\n\t\t\t\tconst xi = bounds[i].longitude;\n\t\t\t\tconst yi = bounds[i].latitude;\n\t\t\t\tconst xj = bounds[j].longitude;\n\t\t\t\tconst yj = bounds[j].latitude;\n\n\t\t\t\tconst intersect = ((yi > lat) !== (yj > lat)) &&\n\t\t\t\t\t(lng < (xj - xi) * (lat - yi) / (yj - yi) + xi);\n\t\t\t\t\n\t\t\t\tif (intersect) inside = !inside;\n\t\t\t}\n\t\t\t\n\t\t\treturn inside;\n\t\t},\n\t\t// 可选：添加获取最近边界点的方法\n\t\tgetNearestBoundaryPoint(lat, lng, bounds) {\n\t\t\tlet minDistance = Infinity;\n\t\t\tlet nearestPoint = null;\n\n\t\t\tfor (let i = 0; i < bounds.length; i++) {\n\t\t\t\tconst point = bounds[i];\n\t\t\t\tconst distance = this.calculateDistance(lat, lng, point.latitude, point.longitude);\n\t\t\t\t\n\t\t\t\tif (distance < minDistance) {\n\t\t\t\t\tminDistance = distance;\n\t\t\t\t\tnearestPoint = point;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tpoint: nearestPoint,\n\t\t\t\tdistance: minDistance\n\t\t\t};\n\t\t},\n\t\t// 初始化用户信息\n\t\tasync initUserInfo() {\n\t\t\tconst userId = uni.getStorageSync('userId');\n\t\t\tconst token = uni.getStorageSync('token');\n\t\t\t\n\t\t\tif (userId && token) {\n\t\t\t\tthis.isLogin = true;\n\t\t\t\t// 从本地存储获取最新用户信息\n\t\t\t\tconst localUserInfo = uni.getStorageSync('userInfo');\n\t\t\t\tif (localUserInfo) {\n\t\t\t\t\tthis.userInfo = localUserInfo;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 从服务器获取最新数据\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'getUserProfile',\n\t\t\t\t\t\tdata: { \n\t\t\t\t\t\t\tuserId,\n\t\t\t\t\t\t\tforceUpdate: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\t\tconst serverUserInfo = res.result.data;\n\t\t\t\t\t\t// 更新本地状态和存储\n\t\t\t\t\t\tthis.userInfo = serverUserInfo;\n\t\t\t\t\t\tuni.setStorageSync('userInfo', serverUserInfo);\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('获取用户信息失败:', err);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.isLogin = false;\n\t\t\t\tthis.userInfo = {\n\t\t\t\t\tavatar: '',\n\t\t\t\t\tnickname: '未登录用户',\n\t\t\t\t\tsignature: '登录后体验更多功能'\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t// 格式化日期\n\t\tformatDate(timestamp) {\n\t\t\tif (!timestamp) return '';\n\t\t\tconst date = new Date(timestamp);\n\t\t\tconst now = new Date();\n\t\t\tconst year = date.getFullYear();\n\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0');\n\t\t\tconst day = String(date.getDate()).padStart(2, '0');\n\t\t\tconst hours = String(date.getHours()).padStart(2, '0');\n\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0');\n\t\t\t\n\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`;\n\t\t},\n\t\t// 清除位置认证\n\t\tasync clearLocationVerify() {\n\t\t\ttry {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认退出验证',\n\t\t\t\t\tcontent: '退出当前位置认证后，需要重新进行位置验证才能使用相关功能，确定要退出吗？',\n\t\t\t\t\tconfirmColor: '#FF5757',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.showLoading({ title: '处理中...' });\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconst userId = uni.getStorageSync('userId');\n\t\t\t\t\t\t\tif (!userId) {\n\t\t\t\t\t\t\t\tthrow new Error('未登录状态');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 调用云函数清除认证信息\n\t\t\t\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\t\t\t\tname: 'updateProfile',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tuserId,\n\t\t\t\t\t\t\t\t\teducationInfo: {\n\t\t\t\t\t\t\t\t\t\tverified: false,\n\t\t\t\t\t\t\t\t\t\tschoolName: '',\n\t\t\t\t\t\t\t\t\t\tverifyTime: null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (result.result.code === 0) {\n\t\t\t\t\t\t\t\t// 更新本地状态\n\t\t\t\t\t\t\t\tif (!this.userInfo) this.userInfo = {};\n\t\t\t\t\t\t\t\tthis.userInfo.educationInfo = {\n\t\t\t\t\t\t\t\t\tverified: false,\n\t\t\t\t\t\t\t\t\tschoolName: '',\n\t\t\t\t\t\t\t\t\tverifyTime: null\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 重置选择的学校\n\t\t\t\t\t\t\t\tthis.selectedSchool = '';\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 更新本地存储\n\t\t\t\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo') || {};\n\t\t\t\t\t\t\t\tuserInfo.educationInfo = this.userInfo.educationInfo;\n\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', userInfo);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 触发全局事件\n\t\t\t\t\t\t\t\tuni.$emit('userInfoUpdated', userInfo);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已退出位置认证',\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow new Error(result.result.msg || '操作失败');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('退出位置认证失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: error.message || '操作失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t},\n\t\t// 跳转到关注页面\n\t\tnavigateToFollows() {\n\t\t\tif (!this.isLogin) {\n\t\t\t\tthis.goToLogin();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconsole.log('正在跳转到关注页面');\n\t\t\t\n\t\t\t// 确保路径正确\n\t\t\ttry {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/mine/follows'\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('导航到关注页面失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '页面跳转失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 跳转到粉丝页面\n\t\tnavigateToFans() {\n\t\t\tif (!this.isLogin) {\n\t\t\t\tthis.goToLogin();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconsole.log('正在跳转到粉丝页面');\n\t\t\t\n\t\t\t// 确保路径正确\n\t\t\ttry {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/mine/fans'\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('导航到粉丝页面失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '页面跳转失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 跳转到获赞页面\n\t\tnavigateToLikes() {\n\t\t\tif (!this.isLogin) {\n\t\t\t\tthis.goToLogin();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/mine/likes'\n\t\t\t});\n\t\t},\n\t\t// 刷新用户数据\n\t\tasync refreshUserData(showLoading = false) {\n\t\t\ttry {\n\t\t\t\tconst userId = uni.getStorageSync('userId');\n\t\t\t\tif (!userId) {\n\t\t\t\t\tthis.isLogin = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (showLoading) {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '刷新中...',\n\t\t\t\t\t\tmask: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 获取用户资料\n\t\t\t\tconst userRes = await uniCloud.callFunction({\n\t\t\t\t\tname: 'getUserProfile',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId,\n\t\t\t\t\t\tforceUpdate: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (userRes.result.code === 0) {\n\t\t\t\t\tconst userInfo = userRes.result.data;\n\t\t\t\t\t\n\t\t\t\t\t// 确保数值为非负整数\n\t\t\t\t\tuserInfo.followCount = Math.max(0, parseInt(userInfo.followCount) || 0);\n\t\t\t\t\tuserInfo.followingCount = Math.max(0, parseInt(userInfo.followingCount) || 0);\n\t\t\t\t\tuserInfo.fansCount = Math.max(0, parseInt(userInfo.fansCount) || 0);\n\t\t\t\t\tuserInfo.followerCount = Math.max(0, parseInt(userInfo.followerCount) || 0);\n\t\t\t\t\t\n\t\t\t\t\t// 更新本地状态和存储\n\t\t\t\t\tthis.userInfo = userInfo;\n\t\t\t\t\tuni.setStorageSync('userInfo', userInfo);\n\t\t\t\t\t\n\t\t\t\t\t// 确保登录状态为true\n\t\t\t\t\tthis.isLogin = true;\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('更新后的用户数据:', userInfo);\n\t\t\t\t\t\n\t\t\t\t\t// 强制刷新\n\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('刷新用户数据失败:', error);\n\t\t\t} finally {\n\t\t\t\tif (showLoading) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 添加一个强制从服务器同步用户信息的方法\n\t\tasync forceSyncUserInfo() {\n\t\t\tconst userId = uni.getStorageSync('userId');\n\t\t\tif (!userId) return;\n\t\t\t\n\t\t\tconsole.log('正在强制同步用户信息...');\n\t\t\ttry {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '刷新中...',\n\t\t\t\t\tmask: true  // 添加遮罩，防止用户在加载时操作UI\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// 1. 首先获取用户的follows统计数据\n\t\t\t\tconst followRes = await uniCloud.callFunction({\n\t\t\t\t\tname: 'getUserFollowing', \n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId,\n\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\tpageSize: 1\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// 2. 获取最新的用户信息\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'getUserProfile',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId,\n\t\t\t\t\t\tforceUpdate: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\t// 3. 更新本地数据前，先确保关注计数正确\n\t\t\t\t\tconst userInfo = res.result.data;\n\t\t\t\t\t\n\t\t\t\t\t// 确保关注计数至少与从getUserFollowing获取的结果一致\n\t\t\t\t\tif (followRes.result && followRes.result.code === 0 && followRes.result.data.totalCount !== undefined) {\n\t\t\t\t\t\tconst followCount = followRes.result.data.totalCount;\n\t\t\t\t\t\tuserInfo.followCount = followCount;\n\t\t\t\t\t\tuserInfo.followingCount = followCount;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 确保关注计数不会为负\n\t\t\t\t\tuserInfo.followCount = Math.max(0, userInfo.followCount || 0);\n\t\t\t\t\tuserInfo.followingCount = Math.max(0, userInfo.followingCount || 0);\n\t\t\t\t\t\n\t\t\t\t\t// 4. 更新本地数据\n\t\t\t\t\tthis.userInfo = userInfo;\n\t\t\t\t\t// 更新本地存储\n\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('同步后的用户数据:', {\n\t\t\t\t\t\tfollowCount: this.userInfo.followCount,\n\t\t\t\t\t\tfollowingCount: this.userInfo.followingCount\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('强制同步用户信息失败:', error);\n\t\t\t} finally {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t},\n\t\t// 在页面初始化或显示时调用\n\t\tinitPage() {\n\t\t\tthis.checkLoginStatus(true);\n\t\t\t\n\t\t\t// 监听全局事件，以便在其他页面登录后能够更新\n\t\t\tuni.$on('loginStateChanged', () => {\n\t\t\t\tthis.checkLoginStatus();\n\t\t\t});\n\t\t},\n\t\t// 重置用户信息\n\t\tresetUserInfo() {\n\t\t\tthis.userInfo = {\n\t\t\t\t_id: '',\n\t\t\t\tnickname: '',\n\t\t\t\tavatar: '',\n\t\t\t\tsignature: '',\n\t\t\t\tfollowCount: 0,\n\t\t\t\tfansCount: 0,\n\t\t\t\tlikeCount: 0\n\t\t\t};\n\t\t},\n\t},\n\tcomputed: {\n\t\tgetUserAvatar() {\n\t\t\t// 优化头像处理逻辑\n\t\t\tif (!this.isLogin) {\n\t\t\t\treturn '/static/images/avatar/default.png';\n\t\t\t}\n\t\t\t\n\t\t\treturn this.userInfo.avatar || '/static/images/avatar/default.png';\n\t\t},\n\t\tgetMessageType() {\n\t\t\treturn this.verificationStatus && this.verificationStatus.success ? 'success' : 'error';\n\t\t},\n\t\tgetMessageContent() {\n\t\t\treturn this.verificationStatus ? this.verificationStatus.message : '';\n\t\t},\n\t\tgetFollowCount() {\n\t\t\t// 记录日志以便调试\n\t\t\tconsole.log('计算关注数，当前用户信息:', JSON.stringify({\n\t\t\t\tfollowCount: this.userInfo.followCount,\n\t\t\t\tfollowingCount: this.userInfo.followingCount\n\t\t\t}));\n\t\t\t\n\t\t\t// 获取关注数，优先使用followCount，然后是followingCount\n\t\t\tlet count = 0;\n\t\t\tif (typeof this.userInfo.followCount === 'number') {\n\t\t\t\tcount = this.userInfo.followCount;\n\t\t\t} else if (typeof this.userInfo.followingCount === 'number') {\n\t\t\t\tcount = this.userInfo.followingCount;\n\t\t\t}\n\t\t\t\n\t\t\t// 确保值为非负整数\n\t\t\treturn Math.max(0, parseInt(count) || 0);\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.profile-container {\n\tbackground-color: #F6F7FB;\n\tmin-height: 100vh;\n\tpadding-bottom: 120rpx; /* 确保底部内容完全显示 */\n}\n\n/* 用户信息区域 */\n.user-card {\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 40rpx 30rpx;\n\tbackground: #FFFFFF;\n\tmargin-bottom: 20rpx;\n}\n\n.user-info {\n\tflex: 1;\n}\n\n.avatar {\n\twidth: 120rpx;\n\theight: 120rpx;\n\tborder-radius: 60rpx;\n\tborder: 4rpx solid #FFFFFF;\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\n}\n\n.user-details {\n\tflex: 1;\n}\n\n.nickname-row {\n\tmargin-bottom: 8rpx;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.nickname {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n\tmargin-right: 8rpx;\n}\n\n.signature {\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n\n.edit-profile-btn {\n\tbackground-color: #F8F8F8;\n\tpadding: 12rpx 24rpx;\n\tborder-radius: 30rpx;\n\tmargin-right: 16rpx;\n}\n\n.edit-profile-btn text {\n\tfont-size: 26rpx;\n\tcolor: #666666;\n}\n\n.logout-btn {\n\tbackground-color: #FFF5F5;\n\tpadding: 12rpx 24rpx;\n\tborder-radius: 30rpx;\n}\n\n.logout-btn text {\n\tfont-size: 26rpx;\n\tcolor: #FF5757;\n}\n\n/* 立即登录按钮样式 */\n.login-now-btn {\n\tbackground: linear-gradient(135deg, #4985FF, #2B62FF);\n\tpadding: 12rpx 32rpx;\n\tborder-radius: 30rpx;\n\tbox-shadow: 0 4rpx 12rpx rgba(43, 98, 255, 0.3);\n}\n\n.login-now-btn text {\n\tfont-size: 26rpx;\n\tcolor: #FFFFFF;\n\tfont-weight: 500;\n}\n\n/* 用户统计 */\n.user-stats {\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tpadding: 30rpx 0;\n\tbackground: #FFFFFF;\n\tmargin-bottom: 20rpx;\n\tborder-top: 1rpx solid #F5F5F5;\n}\n\n.stat-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tflex: 1;\n}\n\n.stat-value {\n\tfont-size: 40rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n\tmargin-bottom: 8rpx;\n}\n\n.stat-label {\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n\n/* 卡片区域 */\n.section-card {\n\tbackground: #FFFFFF;\n\tborder-radius: 16rpx;\n\tmargin: 0 20rpx 20rpx;\n\tpadding: 24rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n}\n\n.section-header {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 24rpx;\n}\n\n.section-title-marker {\n\twidth: 8rpx;\n\theight: 32rpx;\n\tbackground: linear-gradient(to bottom, #4985FF, #2B62FF);\n\tborder-radius: 4rpx;\n\tmargin-right: 16rpx;\n}\n\n.section-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n}\n\n/* 服务网格 */\n.service-grid {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: wrap;\n}\n\n.service-item {\n\twidth: 25%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n}\n\n.service-icon {\n\twidth: 88rpx;\n\theight: 88rpx;\n\tborder-radius: 22rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin-bottom: 12rpx;\n}\n\n.service-icon image {\n\twidth: 48rpx;\n\theight: 48rpx;\n}\n\n.service-name {\n\tfont-size: 24rpx;\n\tcolor: #666666;\n}\n\n/* 菜单列表 */\n.menu-list {\n\twidth: 100%;\n}\n\n.menu-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 24rpx 0;\n\tborder-bottom: 1rpx solid #F5F5F5;\n}\n\n.menu-item:last-child {\n\tborder-bottom: none;\n}\n\n.menu-item-left {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.menu-icon {\n\twidth: 64rpx;\n\theight: 64rpx;\n\tborder-radius: 16rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin-right: 20rpx;\n}\n\n.menu-icon image {\n\twidth: 32rpx;\n\theight: 32rpx;\n}\n\n.menu-label {\n\tfont-size: 30rpx;\n\tcolor: #333333;\n}\n\n.count-badge {\n\tbackground-color: #EDF3FF;\n\tcolor: #4985FF;\n\tfont-size: 24rpx;\n\tpadding: 6rpx 16rpx;\n\tborder-radius: 20rpx;\n}\n\n.arrow-icon {\n\twidth: 32rpx;\n\theight: 32rpx;\n\topacity: 0.5;\n}\n\n/* 院校认证部分 */\n.school-section {\n\tmargin-bottom: 30rpx;\n}\n\n.school-select {\n\twidth: 100%;\n}\n\n.school-picker {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbackground: #EDF3FF;\n\tpadding: 24rpx 30rpx;\n\tborder-radius: 12rpx;\n\tmargin-bottom: 24rpx;\n}\n\n.school-picker text {\n\tfont-size: 30rpx;\n\tcolor: #333333;\n\tfont-weight: 500;\n}\n\n.school-name {\n\tfont-size: 30rpx;\n\tcolor: #2B62FF;\n}\n\n.verify-btn {\n\twidth: 100%;\n\theight: 90rpx;\n\tline-height: 90rpx;\n\ttext-align: center;\n\tbackground: linear-gradient(135deg, #4985FF, #2B62FF);\n\tcolor: white;\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tborder-radius: 12rpx;\n\tbox-shadow: 0 8rpx 16rpx rgba(43, 98, 255, 0.2);\n\tmargin-top: 12rpx;\n\tborder: none;\n}\n\n.school-verified {\n\tbackground: #FFFFFF;\n\tborder-radius: 12rpx;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.verified-content {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 24rpx;\n\tbackground: rgba(16, 197, 91, 0.1);\n\tpadding: 20rpx;\n\tborder-radius: 8rpx;\n\tborder-left: 8rpx solid #10C55B;\n}\n\n.verified-icon {\n\twidth: 60rpx;\n\theight: 60rpx;\n\tbackground: #10C55B;\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 20rpx;\n}\n\n.verified-info {\n\tflex: 1;\n}\n\n.verified-school {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n\tmargin-bottom: 8rpx;\n\tdisplay: block;\n}\n\n.verified-time {\n\tfont-size: 24rpx;\n\tcolor: #666;\n\tdisplay: block;\n}\n\n/* 退出位置验证按钮 */\n.exit-verify-btn {\n\twidth: 100%;\n\theight: 90rpx;\n\tline-height: 90rpx;\n\ttext-align: center;\n\tbackground: linear-gradient(135deg, #FF6A6A, #FF5757);\n\tcolor: white;\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tborder-radius: 12rpx;\n\tbox-shadow: 0 8rpx 16rpx rgba(255, 87, 87, 0.2);\n\tborder: none;\n}\n\n.exit-verify-btn:active {\n\topacity: 0.9;\n\ttransform: scale(0.98);\n}\n\n/* 底部占位区 */\n.bottom-spacer {\n\theight: 30rpx;\n}\n\n/* 登录横幅样式 */\n.login-banner {\n\tmargin: 20rpx;\n\tbackground: linear-gradient(to right, #F0F7FF, #EDF3FF);\n\tborder-radius: 16rpx;\n\tpadding: 30rpx 24rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tborder: 1rpx solid rgba(73, 133, 255, 0.2);\n}\n\n.login-banner-inner {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.login-icon {\n\twidth: 48rpx;\n\theight: 48rpx;\n\tmargin-right: 16rpx;\n}\n\n.login-banner-text {\n\tfont-size: 28rpx;\n\tcolor: #2B62FF;\n}\n\n.login-banner-btn {\n\tbackground: linear-gradient(135deg, #4985FF, #2B62FF);\n\tcolor: white;\n\tfont-size: 26rpx;\n\tpadding: 10rpx 30rpx;\n\tborder-radius: 30rpx;\n\tmargin: 0;\n\tbox-shadow: 0 4rpx 12rpx rgba(43, 98, 255, 0.3);\n\tborder: none;\n\tline-height: 1.5;\n}\n</style> ","import mod from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743160579704\n      var cssReload = require(\"D:/Hbuilderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}