{"version":3,"sources":["webpack:///H:/测试小程序/components/comment-popup/comment-popup.vue?b0bf","webpack:///H:/测试小程序/components/comment-popup/comment-popup.vue?c448","webpack:///H:/测试小程序/components/comment-popup/comment-popup.vue?7fe2","webpack:///H:/测试小程序/components/comment-popup/comment-popup.vue?4413","uni-app:///components/comment-popup/comment-popup.vue","webpack:///H:/测试小程序/components/comment-popup/comment-popup.vue?7604","webpack:///H:/测试小程序/components/comment-popup/comment-popup.vue?6b2a"],"names":["name","props","detail","type","default","replyInfo","postId","data","show","commentText","selectedImage","tempFilePath","uploadedFileID","showMentionList","followingUsers","isLoadingFollowing","computed","isValidComment","watch","methods","open","close","closePopup","submitComment","uni","title","icon","fileID","content","image","chooseImage","count","sizeType","sourceType","success","fail","console","removeImage","uploadImage","filePath","userId","uniCloud","cloudPath","onUploadProgress","uploadFileRes","dbRes","handleAtUser","loadFollowingUsers","res","selectUser","user","setContent","clear"],"mappings":"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","file":"components/comment-popup/comment-popup.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./comment-popup.vue?vue&type=template&id=48091e7c&\"\nvar renderjs\nimport script from \"./comment-popup.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-popup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-popup.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/comment-popup/comment-popup.vue\"\nexport default component.exports","export * from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./comment-popup.vue?vue&type=template&id=48091e7c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.show\n    ? _vm.showMentionList && _vm.followingUsers.length > 0\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./comment-popup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./comment-popup.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"comment-popup-container\" v-if=\"show\">\r\n    <view class=\"mask\" @tap=\"closePopup\"></view>\r\n    <view class=\"comment-popup\">\r\n      <view class=\"popup-header\">\r\n        <text class=\"popup-title\">{{replyInfo && replyInfo.nickname ? `回复 @${replyInfo.nickname}` : '发表评论'}}</text>\r\n        <text class=\"popup-close\" @tap=\"closePopup\">取消</text>\r\n      </view>\r\n      \r\n      <!-- 评论内容区域 -->\r\n      <textarea \r\n        class=\"comment-input\"\r\n        v-model=\"commentText\"\r\n        :placeholder=\"replyInfo ? '回复评论...' : '输入评论...'\"\r\n        :cursor-spacing=\"20\"\r\n        focus\r\n        auto-height\r\n      />\r\n      \r\n      <!-- 已选图片预览区域 -->\r\n      <view class=\"image-preview\" v-if=\"selectedImage\">\r\n        <image \r\n          :src=\"selectedImage\" \r\n          mode=\"aspectFill\" \r\n          class=\"preview-image\"\r\n        />\r\n        <view class=\"remove-image\" @tap=\"removeImage\">×</view>\r\n      </view>\r\n      \r\n      <!-- @用户列表 -->\r\n      <view class=\"mention-list\" v-if=\"showMentionList && followingUsers.length > 0\">\r\n        <view \r\n          class=\"mention-item\" \r\n          v-for=\"user in followingUsers\" \r\n          :key=\"user._id\"\r\n          @tap=\"selectUser(user)\"\r\n        >\r\n          <image class=\"mention-avatar\" :src=\"user && user.avatar ? user.avatar : '/static/images/avatar/default.png'\" mode=\"aspectFill\"/>\r\n          <text class=\"mention-name\">{{user && user.nickname ? user.nickname : '用户'}}</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 底部工具栏 -->\r\n      <view class=\"popup-footer\">\r\n        <view class=\"tool-area\">\r\n          <view class=\"tool-item\" @tap=\"chooseImage\">\r\n            <image src=\"/static/images/icons/tupian.png\" class=\"tool-icon\"/>\r\n          </view>\r\n          <view class=\"tool-item\" @tap=\"handleAtUser\">\r\n            <image src=\"/static/images/icons/aite.png\" class=\"tool-icon\"/>\r\n          </view>\r\n        </view>\r\n        <button class=\"submit-btn\" :disabled=\"!isValidComment\" @tap=\"submitComment\">发送</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CommentPopup',\r\n  props: {\r\n    detail: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    replyInfo: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    postId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      commentText: '',\r\n      selectedImage: '',\r\n      tempFilePath: '',\r\n      uploadedFileID: '',\r\n      showMentionList: false,\r\n      followingUsers: [],\r\n      isLoadingFollowing: false\r\n    }\r\n  },\r\n  computed: {\r\n    isValidComment() {\r\n      return (this.commentText && this.commentText.trim()) || this.selectedImage;\r\n    }\r\n  },\r\n  watch: {\r\n    commentText(newVal, oldVal) {\r\n      if (!newVal) return;\r\n      \r\n      // 检测是否输入了@符号，如果是，则显示关注用户列表\r\n      const lastChar = newVal.slice(-1);\r\n      if (lastChar === '@' && !this.showMentionList) {\r\n        this.loadFollowingUsers();\r\n        this.showMentionList = true;\r\n      } \r\n      // 如果删除了@或输入了空格，隐藏用户列表\r\n      else if ((newVal.length < oldVal.length && !newVal.endsWith('@')) || lastChar === ' ') {\r\n        this.showMentionList = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 打开弹窗\r\n    open() {\r\n      this.show = true;\r\n    },\r\n    \r\n    // 关闭弹窗\r\n    close() {\r\n      this.show = false;\r\n      this.commentText = '';\r\n      this.selectedImage = '';\r\n      this.tempFilePath = '';\r\n      this.uploadedFileID = '';\r\n      this.showMentionList = false;\r\n    },\r\n    \r\n    // 关闭弹窗\r\n    closePopup() {\r\n      this.close();\r\n      this.$emit('cancel');\r\n    },\r\n    \r\n    // 提交评论\r\n    async submitComment() {\r\n      if (!this.isValidComment) {\r\n        uni.showToast({\r\n          title: '请输入评论内容或添加图片',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        let fileID = '';\r\n        \r\n        // 如果选择了图片，先上传图片\r\n        if (this.selectedImage && this.tempFilePath) {\r\n          uni.showLoading({ title: '上传图片中...' });\r\n          try {\r\n            fileID = await this.uploadImage(this.tempFilePath);\r\n            uni.hideLoading();\r\n          } catch (uploadError) {\r\n            uni.hideLoading();\r\n            throw new Error('上传图片失败: ' + (uploadError.message || '未知错误'));\r\n          }\r\n        }\r\n        \r\n        this.$emit('submit', {\r\n          content: this.commentText ? this.commentText.trim() : '',\r\n          replyInfo: this.replyInfo || null,\r\n          image: fileID || ''\r\n        });\r\n        \r\n        // 重置数据\r\n        this.close();\r\n      } catch (error) {\r\n        uni.hideLoading();\r\n        uni.showToast({\r\n          title: error.message || '评论失败',\r\n          icon: 'none'\r\n        });\r\n      }\r\n    },\r\n    \r\n    // 选择图片\r\n    chooseImage() {\r\n      uni.chooseImage({\r\n        count: 1,\r\n        sizeType: ['compressed'],\r\n        sourceType: ['album', 'camera'],\r\n        success: (res) => {\r\n          if (res && res.tempFilePaths && res.tempFilePaths.length > 0) {\r\n            this.tempFilePath = res.tempFilePaths[0];\r\n            this.selectedImage = res.tempFilePaths[0];\r\n          }\r\n        },\r\n        fail: (err) => {\r\n          // 只在非取消操作时记录错误\r\n          if (err && err.errMsg && !err.errMsg.includes('cancel')) {\r\n            console.error('选择图片失败:', err);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    \r\n    // 移除已选图片\r\n    removeImage() {\r\n      this.selectedImage = '';\r\n      this.tempFilePath = '';\r\n    },\r\n    \r\n    // 上传图片到云存储\r\n    async uploadImage(filePath) {\r\n      if (!filePath) {\r\n        throw new Error('图片路径不能为空');\r\n      }\r\n      \r\n      try {\r\n        const userId = uni.getStorageSync('userId');\r\n        if (!userId) {\r\n          throw new Error('请先登录');\r\n        }\r\n        \r\n        console.log('开始上传图片');\r\n        \r\n        // 通过uniCloud直接上传文件\r\n        const uploadFileRes = await uniCloud.uploadFile({\r\n          filePath,\r\n          cloudPath: 'comment-images/' + Date.now() + '_' + Math.random().toString(36).slice(2) + filePath.substr(filePath.lastIndexOf('.')),\r\n          onUploadProgress: (progressEvent) => {\r\n            console.log('上传进度:', Math.round(progressEvent.loaded * 100 / progressEvent.total) + '%');\r\n          }\r\n        });\r\n        \r\n        console.log('文件上传结果:', uploadFileRes);\r\n        \r\n        if (!uploadFileRes || !uploadFileRes.fileID) {\r\n          throw new Error('上传失败，未获取到文件ID');\r\n        }\r\n        \r\n        // 记录上传到数据库\r\n        const dbRes = await uniCloud.callFunction({\r\n          name: 'uploadImage',\r\n          data: {\r\n            userId,\r\n            postId: this.postId || '',\r\n            fileID: uploadFileRes.fileID,\r\n            type: 'comment'\r\n          }\r\n        });\r\n        \r\n        console.log('记录数据库结果:', dbRes);\r\n        \r\n        if (dbRes && dbRes.result && dbRes.result.code === 0) {\r\n          return uploadFileRes.fileID;\r\n        } else {\r\n          throw new Error((dbRes && dbRes.result && dbRes.result.msg) || '记录图片信息失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('上传图片错误:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    \r\n    // 处理@用户\r\n    handleAtUser() {\r\n      // 如果尚未加载关注列表，先加载\r\n      if (this.followingUsers.length === 0 && !this.isLoadingFollowing) {\r\n        this.loadFollowingUsers();\r\n      }\r\n      \r\n      // 在光标位置插入@字符\r\n      this.commentText = (this.commentText || '') + '@';\r\n      this.showMentionList = true;\r\n    },\r\n    \r\n    // 加载关注的用户列表\r\n    async loadFollowingUsers() {\r\n      const userId = uni.getStorageSync('userId');\r\n      \r\n      if (!userId) {\r\n        uni.showToast({\r\n          title: '请先登录',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      if (this.isLoadingFollowing) return;\r\n      \r\n      this.isLoadingFollowing = true;\r\n      \r\n      try {\r\n        const res = await uniCloud.callFunction({\r\n          name: 'getUserFollowing',\r\n          data: { userId }\r\n        });\r\n        \r\n        if (res && res.result && res.result.code === 0) {\r\n          this.followingUsers = (res.result.data && res.result.data.list) || [];\r\n          \r\n          // 如果没有关注的用户，提示用户\r\n          if (this.followingUsers.length === 0) {\r\n            uni.showToast({\r\n              title: '您还没有关注任何用户',\r\n              icon: 'none'\r\n            });\r\n            this.showMentionList = false;\r\n          }\r\n        } else {\r\n          throw new Error((res && res.result && res.result.msg) || '获取关注列表失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('获取关注列表失败:', error);\r\n        uni.showToast({\r\n          title: (error && error.message) || '获取关注列表失败',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        this.isLoadingFollowing = false;\r\n      }\r\n    },\r\n    \r\n    // 选择要@的用户\r\n    selectUser(user) {\r\n      if (!user) return;\r\n      \r\n      // 替换最后一个@字符为@用户名\r\n      const lastAtIndex = this.commentText ? this.commentText.lastIndexOf('@') : -1;\r\n      if (lastAtIndex !== -1) {\r\n        this.commentText = \r\n          this.commentText.substring(0, lastAtIndex) + \r\n          `@${user.nickname || '用户'} `;\r\n      }\r\n      this.showMentionList = false;\r\n    },\r\n    \r\n    // 设置评论内容\r\n    setContent(text) {\r\n      this.commentText = text;\r\n    },\r\n    \r\n    // 清空评论内容\r\n    clear() {\r\n      this.commentText = '';\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.comment-popup-container {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 99999;\r\n}\r\n\r\n.mask {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.comment-popup {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #fff;\r\n  border-radius: 24rpx 24rpx 0 0;\r\n  padding: 30rpx;\r\n  padding-bottom: calc(30rpx + env(safe-area-inset-bottom));\r\n  transform: translateY(0);\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.popup-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n.popup-close {\r\n  font-size: 28rpx;\r\n  color: #999;\r\n  padding: 10rpx;\r\n}\r\n\r\n.comment-input {\r\n  width: 100%;\r\n  min-height: 120rpx;\r\n  background-color: #f8f8f8;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  font-size: 28rpx;\r\n  box-sizing: border-box;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.image-preview {\r\n  position: relative;\r\n  width: 200rpx;\r\n  height: 200rpx;\r\n  margin: 10rpx 0 20rpx;\r\n  border-radius: 12rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.preview-image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.remove-image {\r\n  position: absolute;\r\n  top: 5rpx;\r\n  right: 5rpx;\r\n  width: 40rpx;\r\n  height: 40rpx;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  color: #fff;\r\n  text-align: center;\r\n  line-height: 36rpx;\r\n  border-radius: 50%;\r\n  font-size: 32rpx;\r\n}\r\n\r\n.mention-list {\r\n  max-height: 400rpx;\r\n  overflow-y: auto;\r\n  background: #fff;\r\n  border-radius: 12rpx;\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.mention-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16rpx;\r\n  border-bottom: 1rpx solid #f5f5f5;\r\n}\r\n\r\n.mention-item:active {\r\n  background: #f8f8f8;\r\n}\r\n\r\n.mention-avatar {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border-radius: 50%;\r\n  margin-right: 16rpx;\r\n}\r\n\r\n.mention-name {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.popup-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.tool-area {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.tool-item {\r\n  padding: 15rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.tool-icon {\r\n  width: 48rpx;\r\n  height: 48rpx;\r\n}\r\n\r\n.submit-btn {\r\n  background-color: #ff8200;\r\n  color: #fff;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  padding: 16rpx 40rpx;\r\n  margin: 0;\r\n}\r\n\r\n.submit-btn[disabled] {\r\n  background-color: #f5f5f5;\r\n  color: #999;\r\n}\r\n</style> ","import mod from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./comment-popup.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Hbuilderx\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./comment-popup.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743160579800\n      var cssReload = require(\"D:/Hbuilderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}