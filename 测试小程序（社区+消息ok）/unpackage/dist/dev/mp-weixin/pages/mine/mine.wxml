<view class="profile-container"><view class="user-card"><view class="user-info"><image class="avatar" src="{{getUserAvatar}}" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e"></image><view class="user-details"><view class="nickname-row"><text class="nickname">{{userInfo.nickname||'点击登录'}}</text></view><block wx:if="{{isLogin}}"><text class="signature">{{userInfo.signature||'编辑个人资料'}}</text></block><block wx:else><text class="signature">登录后查看个人信息</text></block></view></view><block wx:if="{{isLogin}}"><view data-event-opts="{{[['tap',[['handleEditProfile',['$event']]]]]}}" class="edit-profile-btn" bindtap="__e"><text>编辑资料</text></view></block><block wx:if="{{isLogin}}"><view data-event-opts="{{[['tap',[['handleLogout',['$event']]]]]}}" class="logout-btn" bindtap="__e"><text>退出登录</text></view></block><block wx:if="{{!isLogin}}"><view data-event-opts="{{[['tap',[['goToLogin',['$event']]]]]}}" class="login-now-btn" bindtap="__e"><text>立即登录</text></view></block></view><block wx:if="{{!isLogin}}"><view data-event-opts="{{[['tap',[['goToLogin',['$event']]]]]}}" class="login-banner" bindtap="__e"><view class="login-banner-inner"><image class="login-icon" src="/static/images/icons/user.png" mode="aspectFit"></image><text class="login-banner-text">登录后查看您的个人信息</text></view><button class="login-banner-btn">立即登录</button></view></block><view class="user-stats"><view data-event-opts="{{[['tap',[['navigateToFollows',['$event']]]]]}}" class="stat-item" bindtap="__e"><text class="stat-value">{{getFollowCount}}</text><text class="stat-label">关注</text></view><view data-event-opts="{{[['tap',[['navigateToFans',['$event']]]]]}}" class="stat-item" bindtap="__e"><text class="stat-value">{{userInfo.fansCount||0}}</text><text class="stat-label">粉丝</text></view><view class="stat-item"><text class="stat-value">{{userInfo.likeCount||0}}</text><text class="stat-label">获赞</text></view></view><view class="section-card"><view class="section-header"><view class="section-title-marker"></view><text class="section-title">我的服务</text></view><view class="service-grid"><view class="service-item"><view class="service-icon" style="background-color:#FF9500;"><image src="/static/images/icons/skill.png" mode="aspectFit"></image></view><text class="service-name">我的技能</text></view><view class="service-item"><view class="service-icon" style="background-color:#FF3B30;"><image src="/static/images/icons/location.png" mode="aspectFit"></image></view><text class="service-name">我的闲置</text></view><view class="service-item"><view class="service-icon" style="background-color:#FF2D55;"><image src="/static/images/icons/collection.png" mode="aspectFit"></image></view><text class="service-name">我的收藏</text></view><view class="service-item"><view class="service-icon" style="background-color:#007AFF;"><image src="/static/images/icons/history.png" mode="aspectFit"></image></view><text class="service-name">历史记录</text></view></view></view><view class="section-card"><view class="section-header"><view class="section-title-marker"></view><text class="section-title">任务记录</text></view><view class="menu-list"><view class="menu-item"><view class="menu-item-left"><view class="menu-icon" style="background-color:#FFF5F5;"><image src="/static/images/icons/publish.png" mode="aspectFit"></image></view><text class="menu-label">发布的任务</text></view><view class="count-badge">3</view></view><view class="menu-item"><view class="menu-item-left"><view class="menu-icon" style="background-color:#F0F7FF;"><image src="/static/images/icons/accept.png" mode="aspectFit"></image></view><text class="menu-label">接受的任务</text></view><view class="count-badge">2</view></view><view class="menu-item"><view class="menu-item-left"><view class="menu-icon" style="background-color:#F5FFF5;"><image src="/static/images/icons/complete.png" mode="aspectFit"></image></view><text class="menu-label">完成的任务</text></view></view></view></view><view class="section-card"><view class="menu-list"><view class="menu-item"><view class="menu-item-left"><view class="menu-icon" style="background-color:#F0F0FF;"><image src="/static/images/icons/feedback.png" mode="aspectFit"></image></view><text class="menu-label">意见反馈</text></view><image class="arrow-icon" src="/static/images/icons/arrow-right.png" mode="aspectFit"></image></view><view class="menu-item"><view class="menu-item-left"><view class="menu-icon" style="background-color:#F8F8F8;"><image src="/static/images/icons/settings.png" mode="aspectFit"></image></view><text class="menu-label">设置</text></view><image class="arrow-icon" src="/static/images/icons/arrow-right.png" mode="aspectFit"></image></view></view></view><view class="section school-section"><view class="section-title"><view class="title-bar"></view><text>院校认证</text></view><block wx:if="{{!userInfo.educationInfo||!userInfo.educationInfo.verified}}"><view class="school-select"><picker mode="selector" range="{{schools}}" data-event-opts="{{[['change',[['bindSchoolChange',['$event']]]]]}}" bindchange="__e"><view class="school-picker"><text>请选择院校</text><text class="school-name">{{selectedSchool||'请选择'}}</text></view></picker><button data-event-opts="{{[['tap',[['verifyLocation',['$event']]]]]}}" class="verify-btn" bindtap="__e">验证位置</button></view></block><block wx:else><view class="school-verified"><view class="verified-content"><view class="verified-icon"><uni-icons vue-id="bae1c640-1" type="checkmarkempty" size="24" color="#10C55B" bind:__l="__l"></uni-icons></view><view class="verified-info"><text class="verified-school">{{userInfo.educationInfo.schoolName}}</text><text class="verified-time">{{"认证成功 · "+$root.m0}}</text></view></view><button data-event-opts="{{[['tap',[['clearLocationVerify',['$event']]]]]}}" class="exit-verify-btn" bindtap="__e">退出位置验证</button></view></block></view><view class="bottom-spacer"></view></view>