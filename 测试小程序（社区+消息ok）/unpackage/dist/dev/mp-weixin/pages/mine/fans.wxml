<view class="container"><view class="header"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn" bindtap="__e"><uni-icons vue-id="6d8a8593-1" type="arrow-left" size="24" color="#333" bind:__l="__l"></uni-icons></view><text class="title">我的粉丝</text></view><block wx:if="{{loading}}"><view class="loading"><uni-icons vue-id="6d8a8593-2" type="spinner-cycle" size="30" color="#ff8200" bind:__l="__l"></uni-icons><text>加载中...</text></view></block><block wx:else><block wx:if="{{$root.g0===0}}"><view class="empty"><image class="empty-img" src="/static/images/empty-fans.png" mode="widthFix"></image><text class="empty-text">还没有人关注你</text><text class="empty-desc">多发布优质内容，吸引更多关注吧</text></view></block><block wx:else><scroll-view class="user-list-scroll" scroll-y="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]],['refresherrefresh',[['onRefresh',['$event']]]]]}}" bindscrolltolower="__e" bindrefresherrefresh="__e"><view class="user-list"><block wx:for="{{fansList}}" wx:for-item="user" wx:for-index="index" wx:key="_id"><view data-event-opts="{{[['tap',[['gotoUserPage',['$0'],[[['fansList','_id',user._id,'_id']]]]]]]}}" class="user-item" bindtap="__e"><image class="avatar" src="{{user.avatar||'/static/images/default-avatar.png'}}" mode="aspectFill"></image><view class="user-info"><text class="nickname">{{user.nickname||'用户'}}</text><text class="signature">{{user.signature||'这个人很懒，什么都没写'}}</text></view><button data-event-opts="{{[['tap',[['handleFollowButtonClick',['$0','$1',index],[[['fansList','_id',user._id,'_id']],[['fansList','_id',user._id,'isFollowing']]]]]]]}}" class="{{['follow-btn',(user.isFollowing)?'following':'']}}" catchtap="__e"><block wx:if="{{!user.isFollowing}}"><text class="follow-icon-text">+</text></block><block wx:else><text class="follow-icon-text">✓</text></block><text>{{user.isFollowing?'已关注':'关注'}}</text></button></view></block></view><uni-load-more vue-id="6d8a8593-3" status="{{loadMoreStatus}}" bind:__l="__l"></uni-load-more></scroll-view></block></block></view>